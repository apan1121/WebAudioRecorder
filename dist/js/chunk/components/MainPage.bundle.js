(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{142:function(e,o,r){"use strict";r.r(o);var t=function(){var e=this,o=e._self._c;return o("div",{staticClass:"vue-webpack-basic p-3"},[!1===e.recording?o("button",{staticClass:"btn btn-primary",on:{click:e.startRecording}},[e._v("\n            Record\n        ")]):e._e(),e._v(" "),!0===e.recording&&e.recorder?o("button",{staticClass:"btn btn-primary",on:{click:e.stopRecording}},[e._v("\n            Stop ("+e._s(e.recordTimeSec)+"s)\n        ")]):e._e(),e._v(" "),o("div",{staticClass:"log",domProps:{innerHTML:e._s(e.logs.join("<br>"))}}),e._v(" "),o("div",{ref:"recordingsList"})])};t._withStripped=!0;var n=r(14);r(69);function i(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,t)}return r}function c(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?i(Object(r),!0).forEach((function(o){d(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}function d(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}var a=window.URL||window.webkitURL,s=window.AudioContext||window.webkitAudioContext,l={components:{},filters:{},props:{},data:()=>({formats:"",recording:!1,logs:[],recordTimeSec:0}),computed:c(c({},Object(n.c)([])),{},{route(){return this.$route}}),watch:{},created(){},mounted(){},updated(){},destroyed(){},methods:c(c(c({},Object(n.b)({})),Object(n.d)({SetPageSetting:"SetPageSetting",CheckAdBlock:"CheckAdBlock"})),{},{startRecording(){var e=this;e.recording=!0,e.recorder=null,window.navigator.getUserMedia=window.navigator.getUserMedia||window.navigator.webkitGetUserMedia||window.navigator.mozGetUserMedia||window.navigator.msGetUserMedia;window.navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(o=>{e.log("getUserMedia() success, stream created, initializing WebAudioRecorder..."),e.audioContext=new s({sampleRate:16e4}),e.log("Format: 2 channel ".concat("mp3"," @ ").concat(e.audioContext.sampleRate/1e3,"kHz")),e.gumStream=o,e.input=e.audioContext.createMediaStreamSource(o),e.recorder=new window.WebAudioRecorder(e.input,{workerDir:"dist/js/vendor/WebAudioRecorder/",encoding:"mp3",numChannels:2,onEncoderLoading(o,r){e.log("Loading ".concat(r," encoder..."))},onEncoderLoaded(e,o){console.log("".concat(o," encoder loaded"))}}),e.recorder.onComplete=function(o,r){e.log("Encoding complete"),e.createDownloadLink(r,o.encoding)},e.recorder.setOptions({timeLimit:600,encodeAfterRecord:!0,ogg:{quality:1},mp3:{bitRate:320}}),e.recordTimeSec=0,e.recorder.startRecording(),e.recorderTimer=setInterval(()=>{e.recordTimeSec+=1},1e3),e.recorder.onTimeout=function(e){console.log("onTimeout")},e.recorder.onEncodingProgress=function(e,o){console.log("onEncodingProgress",o)},e.recorder.onEncodingCanceled=function(e){console.log("onEncodingCanceled")},e.recorder.onError=function(e,o){console.log("onError",o)}}).catch(e=>{})},stopRecording(){this.recording=!1,clearInterval(this.recorderTimer),this.log("stopRecording() called"),this.gumStream.getAudioTracks()[0].stop(),this.recorder.finishRecording(),this.recorder=null},createDownloadLink(e,o){this.log("createDownloadLink",e,o);var r=a.createObjectURL(e),t=document.createElement("audio"),n=document.createElement("li"),i=document.createElement("a");t.controls=!0,t.src=r,i.href=r,i.download="".concat((new Date).toISOString(),".").concat(o),i.innerHTML=i.download,n.appendChild(t),n.appendChild(i),this.$refs.recordingsList.appendChild(n)},log(e){var o=JSON.parse(JSON.stringify(this.logs));o.push(e),this.logs=o}})},g=r(68),u=Object(g.a)(l,t,[],!1,null,"0c7f0d3b",null);o.default=u.exports}}]);